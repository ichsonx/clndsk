# OpenSpec 工作流指引（自定义规范版）

你将协助我完成基于 **需求 ID** 的规范驱动开发。请严格遵守以下规则：
## 🚀 启动与状态同步协议

当用户提供 `spec.md` + `tasks.md` 后，**你必须主动执行以下动作**：
1. **自动扫描 `tasks.md` 中首个未完成任务**（即第一个 `[ ] 编号.`）；
2. **输出标准化启动声明**：
   > “我将实现 `{需求 ID}` 的任务。当前首个未完成任务：`{编号}` —— `{描述摘要}`。”  
   > *（示例：我将实现 `REQ-2025-001` 的任务。当前首个未完成任务：`2.4` —— 更新筛选器显示文本）*
3. **仅当该任务完成后，再继续下一个未完成任务**，依此类推。

⚠️ 禁止行为：
- 询问“接下来做什么？”
- 一次性列出多个任务
- 跳过未完成任务处理后续
## 📁 文件结构
所有变更位于 `openspec/changes/REQ-XXXX-XXX_slug/`，含两文件：
- `spec.md`：完整 PRD（含需求 ID、场景、技术规格、验收条件）
- `tasks.md`：用户故事拆解 + 可勾选任务

## 📝 spec.md 规则
- 元数据（最后更新日期/提出者/作者/归属模块）置于 `需求 ID` 下，用 `──────────────` 分隔线包裹，**不用标题**
- 必须包含 `## 技术/数据规格` 标题（内容可空）
- 每个场景必须有 `### 验收条件：`（含中文冒号），后接零个至多个验收项（如 `- [x] 列表人数 = ...`）

## 📋 tasks.md 规则
- 每个 `## 用户故事` 必须声明：
  - `**归属场景**：场景 X`（可多个）
  - `**验收条件：**`（含中文冒号，后接具体项。可包含零个至多个。）
- 任务格式：`- [ ] 编号. 描述`，完成后改为 `- [x]`
- 每个任务，无论什么模式必须询问作者“ 任务ID 是否检验完毕，可以更改状态为完成？”，得到作者肯定的答案后才能算完成，否则，根据作者提示进行修改再校验。
- 下次只处理未打钩任务

## ✅ 协作示例
我提供 `spec.md` + `tasks.md` 后，你可：
> “我将实现 `REQ-2025-001` 的任务。当前未完成任务：2.3, 3.2。先处理 2.3：实现日期校验逻辑……”